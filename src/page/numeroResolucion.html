<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N칰mero de Resoluci칩n Pos Persuacivo</title>
    <link rel="stylesheet" href="./css/numeroResolucion.css">

    <style>


    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
</head>
<body>

    <form id='optionFormualarioResolucion'>
            <div class="row">

                <div class="form-section">
                    <label for="fechaResolucion">Fecha de Resoluci칩n</label>
                    <input type="date" id="fechaResolucion" placeholder="Fecha del dia que genera la Resolucion" required>
                    <span class="error-message" id="fechaResolucion">Fecha de Resoluci칩n</span>
                </div>

                <div class="form-section">
                    <label for="numeroResolucion">Numero de Resoluci칩n:</label>
                    <input type="text" id="numeroResolucion" placeholder="0001" required>
                    <span class="error-message" id="numeroResolucion">Numero Resoklucion</span>
                </div>

                <div class="form-section">
                    <label for="numeroCedula">Numero de Cedula del Contribuyente</label>
                    <input type="text" id="numeroCedula" placeholder="1.234.567.890" required>
                    <span class="error-message" id="numeroCedula">Numero de Cedula de Contribuyente</span>
                </div>

                <div class="form-section">
                    <label for="nombreContribuyente">Nombre del Contribuyente</label>
                    <input type="text" id="nombreContribuyente" placeholder="Nombre del Contribuyente" required>
                    <span class="error-message" id="nombreContribuyente">Nombre del Contribuyente</span>
                </div>

                <div class="form-section">
                    <label for="referencia">Referencia Catastral:</label>
                    <input type="text" id="referencia" placeholder="4724500101000000390015000000000" required>
                    <span class="error-message" id="referenciaError">Campo requerido (solo n칰meros)</span>
                </div>

                <div class="form-section">
                    <label for="direccion">Direccion del Predio</label>
                    <input type="text" id="direccion" placeholder="Calle, Carrera, Diagonal o Rural" required>
                    <span class="error-message" id="direccion">Direccion del Predio</span>
                </div>

                <div class="form-section">
                    <label for="numeroFactura">Numero de Factura del Predio</label>
                    <input type="text" id="numeroFactura" placeholder="Numero de Factura del Predio" required>
                    <span class="error-message" id="numeroFactura">Numero de Factura del Predio</span>
                </div>
           
            </div>
    </form> 

    <input type="hidden" id="totalFactura" value="">
    <input type="hidden" id="totalFacturaLetras" value="">


    <div class="container">
        <!-- Botones de toggle -->
        <div class="toggle-buttons">
            <button class="toggle-btn active" onclick="mostrarFormulario('actual')">
                游늰 Vigencia Actual
                <span class="form-badge">A침o en curso</span>
            </button>
            <button class="toggle-btn" onclick="mostrarFormulario('antiguo')">
                游닆 Vigencias Anteriores
                <span class="form-badge">A침os anteriores</span>
            </button>
        </div>

        <!-- Formulario Vigencia Actual -->
        <div class="form-wrapper active" id="wrapperActual">
            <form action="a침osdeVigenciaPredial" id="formVigenciaActual">
                <div>
                    <label for="a침oPredialFactura">Digite A침os de Factura del Predio</label>
                    <input type="text" id="a침oPredialFactura" placeholder="Digite A침os de Factura del Predio" value="ACTUAL" readonly>
                </div>

                <table id="conceptoVigenciaActual" border="1">
                    <tr>    
                        <th>Predial Unificado</th>
                        <th>Sobretasa del Medio Ambiente</th>
                        <th>Sistematizaci칩n de Recibo</th>
                        <th>Sobretasa Bomberil</th>
                        <th>Total</th>
                    </tr>

                    <tr>
                        <td><input type="number" name="predial_unificado" placeholder="$0"></td>
                        <td><input type="number" name="sobretasa_ambiente" placeholder="$0"></td>
                        <td><input type="number" name="sistematizacion" placeholder="$0"></td>
                        <td><input type="number" name="sobretasa_bomberil" placeholder="$0"></td>
                        <td><input type="number" name="total" placeholder="$0" readonly></td>
                    </tr>
                </table>

                <button type="submit">Guardar Vigencia Actual</button>
            </form>
        </div>

        <!-- Formulario Vigencias Antiguas -->
        <div class="form-wrapper" id="wrapperAntiguo">
            <form action="a침osdeVigenciaPredialAntiguos" id="formVigenciaAntiguo">
                <div>
                    <label for="a침oPredialFacturaAntiguo">Digite A침os de Factura del Predio</label>
                    <input type="text" id="a침oPredialFacturaAntiguo" placeholder="Digite A침os" required>
                </div>

                <table id="conceptoVigenciaAntiguo" border="1">
                    <tr>    
                        <th>Predial</th>
                        <th>Sobretasa del Medio Ambiente</th>
                        <th>Sobretasa Bomberil</th>
                        <th>Sub. Total</th>
                        <th>Mora Predial</th>
                        <th>Mora Sobretasa del Medio Ambiente</th>
                        <th>Total</th>
                    </tr>

                    <tr>
                        <td><input type="number" name="predial_antiguo" placeholder="$0"></td>
                        <td><input type="number" name="sobretasa_ambiente_antiguo" placeholder="$0"></td>
                        <td><input type="number" name="sobretasa_bomberil_antiguo" placeholder="$0"></td>
                        <td><input type="number" name="sub_total_antiguo" placeholder="$0" readonly></td>
                        <td><input type="number" name="mora_predial" placeholder="$0"></td>
                        <td><input type="number" name="mora_sobretasa_ambiente" placeholder="$0"></td>
                        <td><input type="number" name="total_antiguo" placeholder="$0" readonly></td>
                    </tr>
                </table>

                <button type="submit">Guardar Vigencia Antigua</button>
            </form>
        </div>
    </div>


    <div class="totalprecioUnificadoAntiguo">
        <input type="text" id="totalprecioUnificadoAntiguo" placeholder="Suma Total" readonly>
        <input type="text" id="totalprecioUnificadoAntiguoLetras" placeholder="Total en letras" readonly>
    </div>
    
    
    <div class="vista-previa-container">
        <div id="listaVigenciasAntiguas" class="lista-vigencias">
            <p class="sin-datos">No hay vigencias antiguas agregadas</p>
        </div>
    </div>

    <div class="contenedor-boton">
        <button class="btn" id="btnGenerarPdf" onclick="generarPdfResolucion()">Generar PDF</button>
    </div>

    



    <footer>
        <p>&copy; 2024 - 2027 Alcald칤a de El Banco Magdalena (Tesoreria)</p>
    </footer>

    <script src="./javacritp/numeroResolucion.js"></script>
    <script src="./javacritp/pdfResolucion.js"></script>

</body>

</html>